/* Core CSS required for Ionic components to work properly */
@import "@ionic/vue/css/core.css";

@import "tailwindcss/base.css";

/* Basic CSS for apps built with Ionic */
@import "@ionic/vue/css/normalize.css";
@import "@ionic/vue/css/structure.css";
@import "@ionic/vue/css/typography.css";

@import "tailwindcss/components.css";

/* Optional CSS utils that can be commented out */
@import "@ionic/vue/css/padding.css";
@import "@ionic/vue/css/float-elements.css";
@import "@ionic/vue/css/text-alignment.css";
@import "@ionic/vue/css/text-transformation.css";
@import "@ionic/vue/css/flex-utils.css";
@import "@ionic/vue/css/display.css";

@import "tailwindcss/utilities.css";

/* Avatar Select Modal Styles */
.avatar-select-modal {
  --height: 100%;
  --width: 100%;
  
  ion-content {
    --background: var(--ion-background-color);
  }
  
  .avatar-select-container {
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  
  ion-header {
    flex-shrink: 0;
  }
}

/* Custom Global Popover Styles */
.quick-edit-popover {
  // --width: 360px; // Removed fixed width
  --min-width: 300px; // Set a minimum width
  width: auto; // Explicitly allow auto width based on content

  ion-header {
    box-shadow: none; // Remove shadow if needed
    ion-toolbar {
      --min-height: auto; // Adjust toolbar height
      --padding-start: 0;
      --padding-end: 0;
      --padding-top: 0;
      --padding-bottom: 0;
    }
    ion-segment {
      width: 100%;
    }
  }

  ion-content {
    // Ensure content padding doesn't conflict with tab content padding
    --padding-start: 0;
    --padding-end: 0;
    --padding-top: 0;
    --padding-bottom: 0;
  }

  ion-list {
    padding: 0; // Keep list padding zeroed
  }

  ion-item-divider {
    --background: rgba(var(--ion-color-step-150, 255, 255, 255), 0.1);
    margin-top: 8px;
    margin-bottom: 4px;
  }

  .room-type-grid {
    padding: 0;
    margin-top: 5px;
    margin-bottom: 10px;

    ion-col {
      padding: 2px;
    }

    ion-button {
      width: 100%;
      height: 60px; // Adjust height
      margin: 0;
      --padding-start: 2px;
      --padding-end: 2px;
      --border-radius: 4px;
      border: 1px solid transparent; // Placeholder for selection border
      transition: background-color 0.2s ease, border-color 0.2s ease;

      &.selected {
        background-color: rgba(var(--ion-color-primary-rgb), 0.15);
        border: 1px solid var(--ion-color-primary);
      }

      .button-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;

        i {
          font-size: 1.4rem; // Icon size
          margin-bottom: 4px;
        }

        span {
          font-size: 0.7rem; // Text size
          text-transform: none;
          white-space: nowrap;
        }
      }
    }
  }

  ion-segment {
    width: 100%;
    margin-top: 5px;
    font-size: 0.8rem;
  }

  ion-checkbox {
    margin-left: 10px; // Space between label and checkbox
  }

  // Styles for the side type selection button in the popover list
  .side-type-button {
    --padding-start: 8px;
    --padding-end: 0; // Let the item handle end padding
    font-size: 0.9em;
    height: auto; // Allow button height to adjust
    i {
      margin-right: 6px; // Space between icon and text
      font-size: 1.1em; // Adjust icon size if needed
    }
  }
  
  ion-footer {
    ion-toolbar {
      --background: transparent; // Remove toolbar background in footer
      --border-width: 0;
      padding: 0 8px; // Add padding around buttons
    }
  }
}

/* Styles for the Side Select Sub-Popover */
.side-select-sub-popover {
  --width: auto; // Let content determine width
  --min-width: 150px; // Ensure it's not too narrow

  ion-list {
    padding-top: 0;
    padding-bottom: 0;
  }
  ion-item {
    --padding-start: 12px;
    --padding-end: 12px;
    i {
      margin-right: 10px;
    }
  }
}

/* Save & Quit Modal - Global styles to ensure proper z-index above fab */
ion-modal.save-quit-modal {
  --backdrop-opacity: 0.95;
  z-index: 100000 !important;
  
  &::part(backdrop) {
    z-index: 99999 !important;
  }
  
  &::part(content) {
    z-index: 100000 !important;
  }

  ion-content.modal-content {
    --background: rgba(10, 10, 30, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  ion-card {
    overflow: visible;
    position: relative;
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
    background: rgba(20, 20, 40, 0.98);
    border: 2px solid rgba(100, 100, 150, 0.3);
    max-width: 400px;
    margin: auto;

    i.close {
      position: absolute;
      top: -18px;
      right: -18px;
      --fa-primary-color: #800000;
      --fa-secondary-color: #ff4444;
      cursor: pointer;
      z-index: 100;
      padding: 10px;
      background: rgba(30, 30, 50, 0.98);
      border-radius: 50%;
      border: 2px solid rgba(255, 100, 100, 0.4);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      transition: all 0.2s ease;

      &:hover {
        transform: scale(1.15);
        --fa-secondary-color: #ff6666;
        border-color: rgba(255, 100, 100, 0.6);
      }
    }

    .card-title {
      color: white;
      font-weight: bold;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      gap: 12px;

      .logout-icon {
        font-size: 1.5rem;
        color: var(--ion-color-primary);
      }
    }

    ion-card-content {
      padding: 1.25rem;

      .logout-info {
        color: white;
        margin-bottom: 0.5rem;
        font-size: 1rem;
        text-align: center;
      }

      .logout-subtext {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 1.5rem;
        font-size: 0.9rem;
        text-align: center;
        font-style: italic;
      }

      ion-button {
        margin-top: 0.75rem;

        &.save-button {
          --background: #3880ff;
          --background-hover: #4c8dff;
          height: 48px;
          font-weight: bold;

          i {
            margin-right: 0.5rem;
          }
        }

        &.close-button {
          height: 42px;
        }
      }
    }
  }
}

