.world-forest{
  ion-content{
    --background: url("@/assets/images/backgrounds/world-forest.jpg") center center/cover no-repeat;
  }

  .enchanted-forest {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1;
    pointer-events: none;
  }

  // Fireflies effect
  .fireflies-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 3;
  }

  .firefly {
    position: absolute;
    width: 4px;
    height: 4px;
    background-color: rgba(255, 255, 150, 0.8);
    border-radius: 50%;
    box-shadow: 0 0 10px 2px rgba(255, 255, 150, 0.6);
    filter: blur(1px);
    z-index: 3;
    animation: firefly-float 15s ease-in-out infinite, firefly-glow 3s ease-in-out infinite;
    
    @for $i from 1 through 30 {
      &:nth-child(#{$i}) {
        $size: random(3) + 2 + px;
        $top: random(80) + 10 + %;
        $left: random(90) + 5 + %;
        $float-duration: random(10) + 15 + s;
        $glow-duration: random(3) + 2 + s;
        $delay: random(15) * 1s;
        
        width: $size;
        height: $size;
        top: $top;
        left: $left;
        animation-duration: $float-duration, $glow-duration;
        animation-delay: $delay, $delay;
      }
    }
  }

  @keyframes firefly-float {
    0%, 100% {
      transform: translateX(0) translateY(0);
    }
    25% {
      transform: translateX(20px) translateY(-20px);
    }
    50% {
      transform: translateX(-10px) translateY(10px);
    }
    75% {
      transform: translateX(10px) translateY(15px);
    }
  }

  @keyframes firefly-glow {
    0%, 100% {
      opacity: 0.2;
      box-shadow: 0 0 8px 2px rgba(255, 255, 150, 0.4);
    }
    50% {
      opacity: 0.9;
      box-shadow: 0 0 15px 3px rgba(255, 255, 150, 0.7);
    }
  }

  // Glowing particles effect
  .particles-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  .particle {
    position: absolute;
    border-radius: 50%;
    z-index: 2;
    filter: blur(1px);
    animation: particle-float 20s linear infinite, particle-fade 8s ease-in-out infinite;
    
    @for $i from 1 through 25 {
      &:nth-child(#{$i}) {
        $size: random(3) + 1 + px;
        $top: random(90) + 5 + %;
        $left: random(90) + 5 + %;
        $float-duration: random(15) + 20 + s;
        $fade-duration: random(5) + 8 + s;
        $delay: random(20) * 1s;
        
        width: $size;
        height: $size;
        top: $top;
        left: $left;
        opacity: random(4) * 0.1 + 0.2;
        animation-duration: $float-duration, $fade-duration;
        animation-delay: $delay, $delay;
        
        @if random(10) > 7 {
          background-color: rgba(150, 255, 150, 0.8);
          box-shadow: 0 0 8px 1px rgba(150, 255, 150, 0.6);
        } @else if random(10) > 5 {
          background-color: rgba(180, 255, 220, 0.8);
          box-shadow: 0 0 8px 1px rgba(180, 255, 220, 0.6);
        } @else {
          background-color: rgba(220, 255, 240, 0.8);
          box-shadow: 0 0 8px 1px rgba(220, 255, 240, 0.6);
        }
      }
    }
  }

  @keyframes particle-float {
    0% {
      transform: translateX(0) translateY(0) rotate(0deg);
    }
    33% {
      transform: translateX(30px) translateY(20px) rotate(120deg);
    }
    66% {
      transform: translateX(-20px) translateY(-15px) rotate(240deg);
    }
    100% {
      transform: translateX(0) translateY(0) rotate(360deg);
    }
  }

  @keyframes particle-fade {
    0%, 100% {
      opacity: 0.2;
    }
    50% {
      opacity: 0.7;
    }
  }

  // Magical forest mist effect
  .mist-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 1;
    bottom: 0;
  }

  .mist {
    position: absolute;
    bottom: 0;
    width: 120%;
    height: 120px;
    background: linear-gradient(to top, 
      rgba(200, 255, 220, 0.3) 0%, 
      rgba(180, 255, 200, 0.2) 30%, 
      rgba(150, 255, 180, 0.1) 70%, 
      rgba(150, 255, 180, 0) 100%);
    border-radius: 50%;
    filter: blur(15px);
    z-index: 1;
    animation: mist-float linear infinite;
    
    &.mist-1 {
      left: -10%;
      height: 80px;
      animation-duration: 60s;
      animation-delay: 0s;
      background: linear-gradient(to top, 
        rgba(200, 255, 220, 0.25) 0%, 
        rgba(180, 255, 200, 0.15) 30%, 
        rgba(150, 255, 180, 0.05) 70%, 
        rgba(150, 255, 180, 0) 100%);
    }
    
    &.mist-2 {
      left: -20%;
      height: 100px;
      animation-duration: 75s;
      animation-delay: 25s;
      background: linear-gradient(to top, 
        rgba(180, 240, 255, 0.3) 0%, 
        rgba(160, 220, 255, 0.2) 30%, 
        rgba(140, 200, 255, 0.1) 70%, 
        rgba(140, 200, 255, 0) 100%);
    }
    
    &.mist-3 {
      left: -15%;
      height: 120px;
      animation-duration: 90s;
      animation-delay: 10s;
      background: linear-gradient(to top, 
        rgba(220, 255, 200, 0.25) 0%, 
        rgba(200, 240, 180, 0.15) 30%, 
        rgba(180, 220, 160, 0.05) 70%, 
        rgba(180, 220, 160, 0) 100%);
    }
  }

  @keyframes mist-float {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(100%);
    }
  }
}
