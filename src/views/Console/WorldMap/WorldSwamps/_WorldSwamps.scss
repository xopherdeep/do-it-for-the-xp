.world-swamps {
  ion-content {
    --background: url("@/assets/images/backgrounds/world-swamps.jpg") center center/cover no-repeat;
  }

  // Stormy weather effects container
  .storm-effects {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1;
    pointer-events: none;
  }

  // Rain container
  .rain-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  // Sideways rain effect with multiple layers
  .rain-layer {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0.8;
    
    &.rain-layer-1 {
      animation: rain-drift-1 3s linear infinite;
      
      .rain-drop {
        animation-duration: 0.7s;
      }
    }
    
    &.rain-layer-2 {
      animation: rain-drift-2 2.5s linear infinite;
      
      .rain-drop {
        animation-duration: 0.5s;
      }
    }
    
    &.rain-layer-3 {
      animation: rain-drift-3 2s linear infinite;
      
      .rain-drop {
        animation-duration: 0.3s;
      }
    }
  }

  // Individual rain drops
  .rain-drop {
    position: absolute;
    width: 2px;
    height: 15px;
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(200, 220, 255, 0.2));
    transform: rotate(20deg);
    animation: rain-fall linear infinite;
    
    // Heavy sideways rain - distribute drops across screen
    @for $i from 1 through 150 {
      &:nth-child(#{$i}) {
        left: random(100) * 1%;
        top: random(100) * 1%;
        width: 1px + random(3) * 1px;
        height: 10px + random(20) * 1px;
        opacity: 0.2 + (random(8) * 0.1);
        transform: rotate(15deg + random(15) * 1deg);
        animation-delay: random(4000) * -1ms;
      }
    }
  }

  // Rain puddles effect on the ground
  .rain-puddles {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 20%;
    
    .puddle {
      position: absolute;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 70%);
      border-radius: 50%;
      animation: puddle-ripple 2s ease-out infinite;
      
      // Create random puddles
      @for $i from 1 through 20 {
        &:nth-child(#{$i}) {
          left: random(100) * 1%;
          bottom: random(20) * 1%;
          width: 20px + random(60) * 1px;
          height: 6px + random(10) * 1px;
          animation-delay: random(2000) * -1ms;
        }
      }
    }
  }

  // Mist effects across the swamp
  .mist-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 3;
    opacity: 0.4;
  }

  .mist {
    position: absolute;
    background: linear-gradient(to top, rgba(255, 255, 255, 0.1), rgba(200, 210, 255, 0));
    filter: blur(8px);
    border-radius: 50%;
    animation: mist-float 15s ease-in-out infinite;
    
    @for $i from 1 through 8 {
      &:nth-child(#{$i}) {
        left: random(100) * 1%;
        bottom: random(30) * 1%;
        width: 100px + random(200) * 1px;
        height: 30px + random(20) * 1px;
        opacity: 0.1 + (random(6) * 0.05);
        animation-delay: random(15000) * -1ms;
      }
    }
  }

  // Animation keyframes
  @keyframes rain-fall {
    0% {
      transform: translate(0, 0) rotate(20deg);
    }
    100% {
      transform: translate(-150px, 100px) rotate(20deg);
    }
  }

  @keyframes rain-drift-1 {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50px);
    }
  }

  @keyframes rain-drift-2 {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-70px);
    }
  }

  @keyframes rain-drift-3 {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-100px);
    }
  }

  @keyframes puddle-ripple {
    0% {
      transform: scale(0.3);
      opacity: 0.7;
    }
    100% {
      transform: scale(1);
      opacity: 0;
    }
  }

  @keyframes mist-float {
    0%, 100% {
      transform: translateX(0);
      opacity: 0.4;
    }
    50% {
      transform: translateX(30px);
      opacity: 0.6;
    }
  }
}
